<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TVM: tvm::task_dynamics::VelocityDamper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="tvmdoxystyle.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TVM
   &#160;<span id="projectnumber">0.8.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a01701.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="a01698.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tvm::task_dynamics::VelocityDamper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A first or second order dynamic task implementing the so-called velocity damper of Faverjon and Tournassoud.  
 <a href="a01701.html#details">More...</a></p>

<p><code>#include &lt;tvm/task_dynamics/VelocityDamper.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for tvm::task_dynamics::VelocityDamper:</div>
<div class="dyncontent">
 <div class="center">
  <img src="a01701.png" usemap="#tvm::task_5Fdynamics::VelocityDamper_map" alt=""/>
  <map id="tvm::task_5Fdynamics::VelocityDamper_map" name="tvm::task_5Fdynamics::VelocityDamper_map">
<area href="a01633.html" title="This is a base class to describe how a task is to be regulated, i.e. " alt="tvm::task_dynamics::abstract::TaskDynamics" shape="rect" coords="0,0,257,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01705.html">Impl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3884fe51064c9f5bbb3523b4c99d557a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01701.html#a3884fe51064c9f5bbb3523b4c99d557a">VelocityDamper</a> (const <a class="el" href="a01697.html">VelocityDamperConfig</a> &amp;config, double big=<a class="el" href="a00365.html#aeb21de4788bbb96c1453de69db21a668">constant::big_number</a>)</td></tr>
<tr class="memdesc:a3884fe51064c9f5bbb3523b4c99d557a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Velocity damper for first order dynamics.  <a href="#a3884fe51064c9f5bbb3523b4c99d557a">More...</a><br /></td></tr>
<tr class="separator:a3884fe51064c9f5bbb3523b4c99d557a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f650e347bfb250b64e76cc8e3238e99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01701.html#a1f650e347bfb250b64e76cc8e3238e99">VelocityDamper</a> (double dt, const <a class="el" href="a01697.html">VelocityDamperConfig</a> &amp;config, double big=<a class="el" href="a00365.html#aeb21de4788bbb96c1453de69db21a668">constant::big_number</a>)</td></tr>
<tr class="memdesc:a1f650e347bfb250b64e76cc8e3238e99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Velocity damper for second order dynamics.  <a href="#a1f650e347bfb250b64e76cc8e3238e99">More...</a><br /></td></tr>
<tr class="separator:a1f650e347bfb250b64e76cc8e3238e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_a01633"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a01633')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="a01633.html">tvm::task_dynamics::abstract::TaskDynamics</a></td></tr>
<tr class="memitem:ad3ac366f863378eb52e6fe07d767eedb inherit pub_methods_a01633"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01633.html#ad3ac366f863378eb52e6fe07d767eedb">~TaskDynamics</a> ()=default</td></tr>
<tr class="separator:ad3ac366f863378eb52e6fe07d767eedb inherit pub_methods_a01633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a213c35ee9a1eaa3f5c47fd2a54d1e64e inherit pub_methods_a01633"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="a01637.html">TaskDynamicsImpl</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01633.html#a213c35ee9a1eaa3f5c47fd2a54d1e64e">impl</a> (<a class="el" href="a00356.html#a42313833bbb66bf5318f67e0dca5936a">FunctionPtr</a> f, <a class="el" href="a00357.html#ab6243a7da877a867f54ff7207959eb7c">constraint::Type</a> t, const Eigen::VectorXd &amp;rhs) const</td></tr>
<tr class="separator:a213c35ee9a1eaa3f5c47fd2a54d1e64e inherit pub_methods_a01633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde099a2989ba116db9c6a3ff41b895f inherit pub_methods_a01633"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00363.html#a2104706f158c0b024e10716d3c176cad">Order</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01633.html#adde099a2989ba116db9c6a3ff41b895f">order</a> () const</td></tr>
<tr class="separator:adde099a2989ba116db9c6a3ff41b895f inherit pub_methods_a01633"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a588e6cbd4fff5de6e5c021184b2fbb48"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="a01637.html">abstract::TaskDynamicsImpl</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01701.html#a588e6cbd4fff5de6e5c021184b2fbb48">impl_</a> (<a class="el" href="a00356.html#a42313833bbb66bf5318f67e0dca5936a">FunctionPtr</a> f, <a class="el" href="a00357.html#ab6243a7da877a867f54ff7207959eb7c">constraint::Type</a> t, const Eigen::VectorXd &amp;rhs) const override</td></tr>
<tr class="separator:a588e6cbd4fff5de6e5c021184b2fbb48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb34573a9cce06b9407331472c9b0ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00363.html#a2104706f158c0b024e10716d3c176cad">Order</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01701.html#a6cb34573a9cce06b9407331472c9b0ff">order_</a> () const override</td></tr>
<tr class="separator:a6cb34573a9cce06b9407331472c9b0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A first or second order dynamic task implementing the so-called velocity damper of Faverjon and Tournassoud. </p>
<p>For a lower bound tasks e&gt;=0, we have, for e&lt;=di:</p><ul>
<li>first order: dot{e}_i* = -xsi * (e_i-ds)/(di-ds)</li>
<li>second order: ddot{e}_i* = -xsi/dt * (e_i-ds)/(di-ds) -dot{e}_i/dt</li>
</ul>
<p>and for e&gt;di:</p><ul>
<li>first order: dot{e}* = big</li>
<li>second order: ddot{e}* = big</li>
</ul>
<p>For upper bound tasks e &lt;= 0 this is adapted to get the same behavior as -e &gt;= 0.</p>
<p>xsi can be computed automatically (see <code>autoXsi</code> parameter).</p>
<dl class="section attention"><dt>Attention</dt><dd>For xsi to be computed automatically in the first order case, the value of dot{e} is used.</dd>
<dd>
To know when to compute xsi in automatic mode, the class keeps data on the last iterations. Consequently if the velocity damper is applied to a function <code>f</code> with variable <code>x</code>, its output value will be the same if <code>x</code> keeps the same value <code>x0</code> and velocity <code>v0</code> between two consecutive updates, but the same entries <code>x0</code> and <code>v0</code> <em>may</em> give different values for unrelated updates, because of history differences. <br />
 This remark only applies when the automatic computation of xsi is required. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3884fe51064c9f5bbb3523b4c99d557a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3884fe51064c9f5bbb3523b4c99d557a">&#9670;&nbsp;</a></span>VelocityDamper() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tvm::task_dynamics::VelocityDamper::VelocityDamper </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01697.html">VelocityDamperConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>big</em> = <code><a class="el" href="a00365.html#aeb21de4788bbb96c1453de69db21a668">constant::big_number</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Velocity damper for first order dynamics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>configuration of the damper. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a01697.html" title="A structure grouping the parameters of a velocity damper. ">VelocityDamperConfig</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">big</td><td>value used as infinity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>When <code>autoXsi</code> is <code>true</code>, the value update will declare a dependency to the <code>Velocity</code> of the error function. It is the user responsibility to ensure the velocity is correctly provided (in particular, this might require the value of the variables first derivatives to be set correctly). </dd></dl>

</div>
</div>
<a id="a1f650e347bfb250b64e76cc8e3238e99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f650e347bfb250b64e76cc8e3238e99">&#9670;&nbsp;</a></span>VelocityDamper() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tvm::task_dynamics::VelocityDamper::VelocityDamper </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a01697.html">VelocityDamperConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>big</em> = <code><a class="el" href="a00365.html#aeb21de4788bbb96c1453de69db21a668">constant::big_number</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Velocity damper for second order dynamics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>integration time step to integrate acceleration to velocity (should be the control time step). Must be non-negative. </td></tr>
    <tr><td class="paramname">config</td><td>configuration of the damper. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="a01697.html" title="A structure grouping the parameters of a velocity damper. ">VelocityDamperConfig</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">big</td><td>value used as infinity. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a588e6cbd4fff5de6e5c021184b2fbb48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a588e6cbd4fff5de6e5c021184b2fbb48">&#9670;&nbsp;</a></span>impl_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="a01637.html">abstract::TaskDynamicsImpl</a>&gt; tvm::task_dynamics::VelocityDamper::impl_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00356.html#a42313833bbb66bf5318f67e0dca5936a">FunctionPtr</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00357.html#ab6243a7da877a867f54ff7207959eb7c">constraint::Type</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::VectorXd &amp;&#160;</td>
          <td class="paramname"><em>rhs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="a01633.html#a1e1626637ba2315c65b9bfacceefe783">tvm::task_dynamics::abstract::TaskDynamics</a>.</p>

</div>
</div>
<a id="a6cb34573a9cce06b9407331472c9b0ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb34573a9cce06b9407331472c9b0ff">&#9670;&nbsp;</a></span>order_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00363.html#a2104706f158c0b024e10716d3c176cad">Order</a> tvm::task_dynamics::VelocityDamper::order_ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="a01633.html#a0af2178117ec3fab102e808b863e9886">tvm::task_dynamics::abstract::TaskDynamics</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a00356.html">tvm</a></li><li class="navelem"><a class="el" href="a00363.html">task_dynamics</a></li><li class="navelem"><a class="el" href="a01701.html">VelocityDamper</a></li>
    <li class="footer">Generated on Thu Jun 11 2020 10:16:54 for TVM by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
